/* Сброс отступов и базовая высота для всего документа */
html, body {
  margin: 0; /* Убираем внешние отступы браузера */
  padding: 0; /* Убираем внутренние отступы браузера */
  height: 100%; /* Растягиваем элементы на всю высоту окна */
}

:root {
  --app-bg-gradient: linear-gradient(
    to bottom right,
    #b6b1ff 0%,
    #a4b7ff 30%,
    #80caff 58%,
    #7bdefe 78%,
    #6cebf7 100%
  ); /* Фиксируем точный градиент из исходной картинки */
  --app-bg-glow: radial-gradient(
    circle at 28% 22%,
    rgba(255, 255, 255, 0.35) 0%,
    rgba(255, 255, 255, 0) 46%
  ); /* Лёгкое свечение поверх градиента без картинок */
}

/* Основной контейнер страницы с моментальным градиентом и вертикальной компоновкой */
body {
  background-image: var(--app-bg-gradient), var(--app-bg-glow); /* Показываем только CSS-градиент сразу */
  background-size: cover, cover; /* Растягиваем оба слоя по экрану */
  background-position: center, center; /* Центрируем оба слоя */
  background-repeat: no-repeat, no-repeat; /* Отключаем повторение, чтобы градиент не плитовался */
  display: flex; /* Включаем flex для построения столбца */
  flex-direction: column; /* Раскладываем элементы сверху вниз */
  font-family: 'Helvetica Neue', Arial, sans-serif; /* Применяем базовый шрифт */
  min-height: 100vh; /* Гарантируем высоту экрана, даже если мало контента */
}

/* Включаем фоновую картинку только после асинхронной загрузки */
.bg-ready {
  background-image: var(--app-bg-image), var(--app-bg-glow), var(--app-bg-gradient); /* Добавляем фон поверх градиента */
  background-size: cover, cover, cover; /* Растягиваем все слои равномерно */
  background-position: center, center, center; /* Центрируем каждый слой */
  background-repeat: no-repeat, no-repeat, no-repeat; /* Запрещаем повторение на всех слоях */
}

/* Обёртка, чтобы контент не прилипал к краям на больших экранах */
.page {
  width: 100%; /* Растягиваем по ширине */
  max-width: 640px; /* Ограничиваем ширину для крупных экранов */
  margin: 0 auto; /* Центрируем страницу на десктопах */
  display: flex; /* Включаем flex внутри */
  flex-direction: column; /* Размещаем блоки вертикально */
  min-height: 100vh; /* Растягиваем на полную высоту окна */
}

/* Шапка с полупрозрачным фоном, кнопкой назад и логотипом */
.header {
  display: flex; /* Выстраиваем элементы в одну линию */
  align-items: center; /* Выравниваем по вертикали по центру */
  padding: 12px; /* Добавляем внутренние отступы */
  background-color: rgba(255, 255, 255, 0.5); /* Делаем светлый полупрозрачный фон */
  backdrop-filter: blur(6px); /* Размываем фон для эффекта стекла */
  -webkit-backdrop-filter: blur(6px); /* Поддержка blur в Safari */
  gap: 12px; /* Добавляем промежуток между элементами */
}

/* Кнопка возврата в шапке */
.back-btn {
  border: none; /* Убираем рамку у кнопки */
  background: none; /* Убираем фон */
  font-size: 16px; /* Делаем текст заметным */
  color: #1f1f1f; /* Устанавливаем тёмный цвет текста */
  cursor: pointer; /* Меняем курсор на указатель */
  padding: 6px 4px; /* Добавляем компактные отступы */
  flex: 0 0 auto; /* Фиксируем ширину под содержимое */
}

/* Логотип компании в правой части шапки */
.main-logo {
  width: 96px; /* Устанавливаем желаемую ширину логотипа */
  height: auto; /* Сохраняем пропорции */
  margin-left: auto; /* Прижимаем логотип к правому краю */
}

/* Основная зона контента под шапкой */
.content {
  flex: 1; /* Растягиваем на оставшуюся высоту */
  display: flex; /* Включаем flex для вложенных элементов */
  flex-direction: column; /* Раскладываем элементы сверху вниз */
  padding: 12px; /* Добавляем внутренний отступ */
}

/* Скроллируемый список банков с плавной прокруткой */
.bank-list {
  flex: 1; /* Заполняем всё доступное пространство */
  overflow-y: auto; /* Включаем вертикальный скролл при необходимости */
  -webkit-overflow-scrolling: touch; /* Делаем скролл плавным на iOS */
  overscroll-behavior: contain; /* Предотвращаем перетаскивание содержимого страницы */
  overscroll-behavior-y: contain; /* Ограничиваем вертикальное перетягивание */
  padding: 4px 0; /* Делаем небольшой отступ сверху и снизу */
}

/* Общий стиль кнопки банка: стеклянный фон и плавные углы */
.btn {
  width: 100%; /* Растягиваем кнопку на всю доступную ширину */
  max-width: 520px; /* Добавляем ограничение ширины на больших экранах */
  margin: 8px auto; /* Центрируем и задаём вертикальные отступы */
  padding: 12px; /* Добавляем внутренние отступы */
  border: none; /* Убираем рамку */
  border-radius: 14px; /* Скругляем углы */
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(255, 255, 255, 0.95) 15%,
    rgba(255, 255, 255, 0.35) 55%,
    rgba(255, 255, 255, 0.05) 100%
  ); /* Создаём плавный стеклянный градиент */
  backdrop-filter: blur(8px); /* Усиливаем эффект стекла */
  -webkit-backdrop-filter: blur(8px); /* Поддержка для Safari */
  cursor: pointer; /* Показываем, что элемент кликабелен */
  display: flex; /* Размещаем иконку и текст в строку */
  align-items: center; /* Центрируем содержимое по вертикали */
  gap: 12px; /* Добавляем промежуток между иконкой и текстом */
  opacity: 0; /* Начальное состояние для анимации появления */
  transform: translateY(100px); /* Сдвигаем вниз для выезда */
  transition: transform 0.2s ease-out; /* Плавный откат эффекта растяжки */
}

/* Иконка банка внутри кнопки */
.bank-icon {
  width: 40px; /* Фиксированная ширина, чтобы не прыгала вёрстка */
  height: 40px; /* Фиксированная высота под квадратный холст */
  border-radius: 50%; /* Делаем круглую заглушку под логотип */
  background: rgba(255, 255, 255, 0.35); /* Светлый фон-заглушка, чтобы логотип прогревался лениво */
  display: flex; /* Центрируем содержимое по обеим осям */
  align-items: center; /* Центрируем по вертикали */
  justify-content: center; /* Центрируем по горизонтали */
  overflow: hidden; /* Обрезаем лишние края логотипа */
  flex-shrink: 0; /* Запрещаем сжимать иконку при длинном тексте */
}

.bank-icon__img {
  width: 100%; /* Растягиваем изображение на весь холст */
  height: 100%; /* Заполняем всю высоту */
  object-fit: contain; /* Сохраняем пропорции логотипа */
  display: block; /* Убираем пробелы вокруг картинки */
  opacity: 0; /* Прячем картинку до загрузки, чтобы не мигала */
  transition: opacity 0.2s ease-out; /* Плавно показываем после загрузки */
}

.bank-icon--ready .bank-icon__img {
  opacity: 1; /* Показываем логотип после загрузки */
}

/* Текстовое название банка */
.btn-text {
  font-weight: 700; /* Делаем текст полужирным */
  font-size: 16px; /* Устанавливаем размер шрифта */
  color: #000000; /* Чёрный цвет для контраста */
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.2); /* Добавляем лёгкую тень для читаемости */
}

.btn-status {
  margin-left: auto; /* Прижимаем статус к правому краю кнопки */
  font-size: 13px; /* Делаем текст статуса компактным */
  font-weight: 600; /* Делаем статус заметным визуально */
  color: #0a84ff; /* Выделяем статус синим цветом */
  opacity: 0; /* Прячем статус по умолчанию */
  transition: opacity 0.2s ease-out; /* Плавно показываем статус при необходимости */
}

.btn-status.is-visible {
  opacity: 1; /* Показываем статус, когда идёт загрузка или ошибка */
}

/* Кадры анимации плавного выезда кнопок вверх */
@keyframes slideUp {
  0% {
    transform: translateY(100px); /* Начинаем ниже экрана */
    opacity: 0; /* Делаем элемент невидимым */
  }
  80% {
    transform: translateY(-6px); /* Чуть перескакиваем конечную точку для упругости */
    opacity: 1; /* Делаем элемент видимым */
  }
  100% {
    transform: translateY(0); /* Возвращаемся в нормальное положение */
    opacity: 1; /* Полностью показываем элемент */
  }
}

/* Ссылка на fallback в режиме редиректа */
.redirect-link {
  color: #0a84ff; /* Используем заметный голубой цвет */
  text-decoration: none; /* Убираем подчёркивание по умолчанию */
  font-weight: 600; /* Делаем ссылку чуть жирнее */
}

/* Подпись на странице редиректа */
.redirect-hint {
  margin-top: 12px; /* Добавляем отступ сверху */
  font-size: 14px; /* Ставим небольшой размер текста */
  color: #1f1f1f; /* Делаем текст тёмным для читаемости */
}
